<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.music.dao.AlbumDao">
    <!--
            给表中的昵称 修改成和类中的名称相同
            private Integer albumId;//专辑id
            private String albumName;//专辑名字
            private Integer albumSingerId;//专辑歌手id
            private String issuingReleaseTime;//专辑发布时间
            private Integer companyId;//专辑发行公司
            private String introduce;//专辑介绍

        -->
    <resultMap id="rMap" type="album">
        <id column="album_id" property="albumId"></id>
        <result column="album_name" property="albumName"></result>
        <result column="album_singer_id" property="albumSingerId"></result>
        <result column="album_release_time" property="issuingReleaseTime"></result>
        <result column="Issuing_company_id" property="companyId"></result>
        <result column="album_introduce" property="introduce"></result>
    </resultMap>
    <!--获取当前表中的所有内容-->
    <select id="getAlbumAll" resultMap="rMap">
        select * from album
    </select>
    <!--根据id查询album-->
    <select id="getAlbumOne" parameterType="map" resultMap="rMap">
        select * from album where album_id = #{albumId}
    </select>
    <!--添加album-->
    <insert id="insertAlbum" parameterType="map">
        insert into album
        (album_name,album_singer_id,album_release_time,Issuing_company_id,album_introduce)
        values
        (#{albumName},#{albumSingerId},#{issuingReleaseTime},#{companyId},#{introduce})
    </insert>
    <!--删除id删除album-->
    <delete id="deleteAlbum" parameterType="int">
        delete from album where album_id = #{albumId}
    </delete>
    <!--修改用户-->
    <update id="updateAlbum" parameterType="map">
        update album
        <set>
            <!--<if test="album_name != null and album_name != ''">-->
                album_name = #{albumName},
            <!--</if>-->
            <!--<if test="album_singer_id != null and album_singer_id != ''">
                album_singer_id = #{albumSingerId},
            </if>
            <if test="album_release_time != null and album_release_time != ''">
                album_release_time = #{issuingReleaseTime},
            </if>
            <if test="Issuing_company_id != null and Issuing_company_id != ''">
                Issuing_company_id = #{companyId},
            </if>-->
            <!--<if test="album_introduce != null and album_introduce != ''">-->
                /*album_introduce = #{introduce}*/
            <!--</if>-->
        </set>
        <where>
            <if test="album_id != null">
                album_id = #{albumId};
            </if>
        </where>
    </update>
</mapper>